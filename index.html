<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Редактор прогресс-бара для Genially</title>
<style>
  body { background:#111; color:white; font-family:sans-serif; padding:20px; }
  .editor-wrap { display:flex; gap:20px; }
  .sidebar { width:300px; background:#222; padding:20px; border-radius:10px; }
  input, select, label { width:100%; margin-bottom:10px; padding:6px; box-sizing:border-box; background:#000; color:#0f0; border:1px solid #555; }
  button { width:100%; padding:12px; background:#8c00ff; border:none; color:white; font-weight:bold; cursor:pointer; margin-top:10px; }
  #out { width:100%; height:150px; background:#000; color:#0f0; font-family:monospace; font-size:12px; resize:none; margin-top:10px; }
  .preview-zone { flex-grow:1; border:2px dashed #444; display:flex; align-items:center; justify-content:flex-start; background:rgba(0,0,0,0.3); min-height:100px; padding:10px; flex-wrap:wrap; }
</style>
</head>
<body>

<div class="editor-wrap">
  <div class="sidebar">
    <h3>Настройки прогресс-бара</h3>

    <label>Количество колб:</label>
    <input type="number" id="total" value="5" min="1" max="20" oninput="gen()">

    <label>Заполнено колб:</label>
    <input type="number" id="filled" value="2" min="0" max="20" oninput="gen()">

    <label>Размер колб (px):</label>
    <input type="number" id="size" value="60" min="20" max="200" oninput="gen()">

    <label>Цвет свечения:</label>
    <input type="color" id="color" value="#00ff7b" oninput="gen()">

    <label>Свечение:</label>
    <select id="glow" onchange="gen()">
      <option value="yes">Включено</option>
      <option value="no">Выключено</option>
    </select>

    <button onclick="copyCode()">Получить код</button>
    <textarea id="out" readonly></textarea>
  </div>

  <div class="preview-zone" id="preview"></div>
</div>

<script>
function gen() {
  const total = parseInt(document.getElementById('total').value);
  let filled = parseInt(document.getElementById('filled').value);
  const size = parseInt(document.getElementById('size').value);
  const color = document.getElementById('color').value;
  const glow = document.getElementById('glow').value === 'yes';

  if(filled > total) filled = total;
  if(filled < 0) filled = 0;

  const full = "https://i.postimg.cc/7hBpJVf9/11-(1).png";
  const empty = "https://i.postimg.cc/xCQrw8wR/17.png";

  let html = '';

  for(let i=0;i<total;i++){
    if(i<filled){
      html += `<img src="${full}" width="${size}" style="${glow ? 'filter:drop-shadow(0 0 15px ' + color + ');' : ''} margin-right:6px;">`;
    } else {
      html += `<img src="${empty}" width="${size}" style="margin-right:6px;">`;
    }
  }

  html += `<span style="font-size:20px; font-weight:bold; color:${color}; text-shadow:0 0 10px ${color}; margin-left:10px;">
    ${filled} / ${total}</span>`;

  document.getElementById('preview').innerHTML = html;
  document.getElementById('out').value = html;
}

function copyCode(){
  const out = document.getElementById('out');
  out.select();
  document.execCommand('copy');
  alert("Код скопирован и готов для Genially!");
}

gen();
</script>

</body>
</html>
